Comment: A description of my state machine
StartAt: ReadEventData
States:
  ReadEventData:
    Type: Task
    Resource: arn:aws:states:::lambda:invoke
    OutputPath: $.Payload
    Parameters:
      Payload.$: $
      FunctionName: laab4-read-event-data
    Retry:
      - ErrorEquals:
          - Lambda.ServiceException
          - Lambda.AWSLambdaException
          - Lambda.SdkClientException
          - Lambda.TooManyRequestsException
        IntervalSeconds: 2
        MaxAttempts: 6
        BackoffRate: 2
    Next: IsExternalVerificationType
  IsExternalVerificationType:
    Type: Choice
    Choices:
      - Variable: $.stateInput.VerifiedTransactionType
        BooleanEquals: true
        Next: QueryAccountRequestid
    Default: QueryAccountBalances
  QueryAccountRequestid:
    Type: Task
    Resource: arn:aws:states:::lambda:invoke
    OutputPath: $.Payload
    Parameters:
      Payload.$: $
      FunctionName: lab4_query_account_requestid
    Next: Choice
    Catch:
      - ErrorEquals: []
  Choice:
    Type: Choice
    Choices:
      - Variable: $.stateInput.RejectEvent
        BooleanEquals: true
        Next: EventRejectionHandler
    Default: QueryAccountBalances
  EventRejectionHandler:
    Type: Task
    Resource: arn:aws:states:::lambda:invoke
    OutputPath: $.Payload
    Parameters:
      Payload.$: $
      FunctionName: lab4_event_rejection_handler
    Retry:
      - ErrorEquals:
          - Lambda.ServiceException
          - Lambda.AWSLambdaException
          - Lambda.SdkClientException
          - Lambda.TooManyRequestsException
        IntervalSeconds: 2
        MaxAttempts: 6
        BackoffRate: 2
    End: true
  QueryAccountBalances:
    Type: Task
    Resource: arn:aws:states:::lambda:invoke
    OutputPath: $.Payload
    Parameters:
      Payload.$: $
      FunctionName: lab4_query_account_balances
    Retry:
      - ErrorEquals:
          - Lambda.ServiceException
          - Lambda.AWSLambdaException
          - Lambda.SdkClientException
          - Lambda.TooManyRequestsException
        IntervalSeconds: 2
        MaxAttempts: 6
        BackoffRate: 2
    End: true
